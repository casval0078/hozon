<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Viewer</title>
</head>
<body>
    <h1>Stored Media</h1>
    <div id="mediaContainer"></div>

    <!-- Firebase SDKの追加 -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
        import { getStorage, ref, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js';

        // Firebase設定の初期化
        const firebaseConfig = {
            apiKey: "AIzaSyBf1jDkivK4IjWhK613ysNhlhfJrVa5Z4s",
            authDomain: "hozon-4794d.firebaseapp.com",
            projectId: "hozon-4794d",
            storageBucket: "hozon-4794d.appspot.com",
            messagingSenderId: "363639067783",
            appId: "1:363639067783:web:89c021b8c297cf60e2d422",
            measurementId: "G-NKKQJM5VQY"
        };
        const app = initializeApp(firebaseConfig);
        const storage = getStorage(app);

        // メディアを表示する関数
        async function displayMedia() {
            try {
                const mediaRef = ref(storage, 'FC2-PPV-4410586.H265.mp4');  // メディアのパスを指定
                const url = await getDownloadURL(mediaRef);

                // 動画を表示
                const video = document.createElement('video');
                video.src = url;
                video.controls = true;
                video.autoplay = true; // 自動再生を望む場合
                document.getElementById('mediaContainer').appendChild(video);
            } catch (error) {
                console.error("Error loading media: ", error);
            }
        }

        window.onload = displayMedia;
    </script>
</body>
</html>
